"0","tbl_algorithm <-"
"0","  tribble("
"0","    ~variable, ~operation, ~rate_table,"
"0","    ""All-Peril Base Rate"", ""+"", ""tbl_base"","
"0","    ""AOI Relativity"", ""x"", ""tbl_aoi"","
"0","    ""Territory Relativity"", ""x"", ""tbl_territory"","
"0","    ""Protection Class / Construction Type Relativity"", ""x"", ""tbl_protection_class"","
"0","    ""Underwriting Tier Relativity"", ""x"", ""tbl_uw_tier"","
"0","    ""Deductible Credit"", ""x"", ""tbl_deductible"","
"0","    ""New Home Discount"", ""x [1 - .]"", ""tbl_credits"","
"0","    ""Claims-Free Discount"", ""x [1 - .]"", ""tbl_credits"","
"0","    ""Multi-Policy Discount"", ""x [1 - .]"", ""tbl_credits"","
"0","    ""Increased Jewelry Coverage Rate"", ""+"", ""tbl_jewelry"","
"0","    ""Increased Liability/Medical Coverage Rate"", ""+"", ""tbl_increased_liability"","
"0","    ""Policy Fee"", ""+"", ""tbl_expense_fee"""
"0","  ) "
"0",""
"0","tbl_algorithm %>% "
"0","  transmute("
"0","    expression = variable %>% paste0("" ("", ., "")""),"
"0","    expression = "
"0","      if_else("
"0","        operation %>% str_detect(""\\.""), "
"0","        operation %>% str_replace(""\\."", expression), "
"0","        map2_chr(operation, expression, function(x,y) paste0(x, y, collapse = "" ""))"
"0","  ))"
